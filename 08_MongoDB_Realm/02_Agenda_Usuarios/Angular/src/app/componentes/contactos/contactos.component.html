
<div class="text-center mt-2 mb-2">
    <button class="btn btn-primary mr-1" id="btnInsertar" (click)="insertar()">Insertar</button>
    <button class="btn btn-primary mr-1" id="btnModificar" (click)="modificar()">Modificar</button>
    <button class="btn btn-danger  mr-1" id="btnBorrar" (click)="borrar()">Borrar</button>
    <button class="btn btn-warning mr-1" id="btnVaciar" (click)="vaciar()">Vaciar</button>
</div>

<div class="alert alert-danger alert-dismissible fade show" role="alert" id="alertError">
    <strong>Error:</strong> <span id="mensajeError"></span>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<form [formGroup]="formulario">

    <div class="row">
        <div class="col-sm-12 col-lg-8 offset-lg-2"> 
            <!--$("#formulario [campo]")-->
            <div class="row" id="formulario">  

                <div class="col-2 mt-1">
                    <label for="nombre">Nombre</label>
                </div>
                <div class="col-10 mt-1">
                    <input type="text" class="form-control" id="nombre" formControlName="nombre"/>
                    <div *ngIf="(formulario.get('nombre')?.dirty || formulario.get('nombre')?.touched)">
                        <small *ngIf="formulario.get('nombre')?.hasError('required')" class="text-danger">
                            El nombre es obligatorio.
                        </small>
                    </div>                    
                </div>

                <div class="col-2 mt-1">
                    <label for="direccion">Direccion</label>
                </div>
                <div class="col-10 mt-1">
                    <input type="text" class="form-control" id="direccion" formControlName="direccion"/>
                    <div *ngIf="(formulario.get('direccion')?.dirty || formulario.get('direccion')?.touched)">
                        <small *ngIf="formulario.get('direccion')?.hasError('required')" class="text-danger">
                            La dirección es obligatoria.
                        </small>
                    </div>                     
                </div>

                <div class="col-2 mt-1">
                    <label for="telefono">Telefono</label>
                </div>
                <div class="col-10 mt-1">
                    <input type="text" class="form-control" id="telefono" formControlName="telefono"/>
                    <div *ngIf="(formulario.get('telefono')?.dirty || formulario.get('telefono')?.touched)">
                        <small *ngIf="formulario.get('telefono')?.hasError('required')" class="text-danger">
                            El teléfono es obligatorio.
                        </small>
                    </div>                     
                </div>
            
                <div class="col-2 mt-1">
                    <label for="correoE">Correo E</label>
                </div>
                <div class="col-10 mt-1">
                    <input type="text" class="form-control" id="correoE" formControlName="correoE"/>
                    <div *ngIf="(formulario.get('correoE')?.dirty || formulario.get('correoE')?.touched)">
                        <small *ngIf="formulario.get('correoE')?.hasError('required')" class="text-danger">
                          El correoE es obligatorio.
                        </small>
                        <small *ngIf="formulario.get('correoE')?.hasError('email')" class="text-danger">
                          Tiene que ser una dirección de correo E.
                        </small>
                      </div>                     
                </div>                 
            </div>         
        </div>
    </div>

</form>

<div class="row">
    <div class="col-sm-12 col-lg-8 offset-lg-2"> 
        <table class="table table-striped table-hover mt-4">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Dirección</th>
                    <th>Teléfono</th>
                    <th>Correo E</th>
                </tr>
            </thead>
            <tbody id="tablaContactos">
                <tr *ngFor="let c of contactos">
                    <td>{{c.nombre}}</td>
                    <td>{{c.direccion}}</td>
                    <td>{{c.telefono}}</td>
                    <td>{{c.correoE}}</td>
                </tr>                
            </tbody>
        </table>
    </div>
</div>    
