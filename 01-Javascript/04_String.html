<html>
    
<head></head>
    
<script type="application/javascript">

    //Los string en JS son objetos y como tales tienen identidad y funcionalidad
    let texto = "Esto es una cadena de caracteres";
    
    //Longitud de la cadena
    console.log(texto.length); 
    
    //Algunas funciones
    texto.toUpperCase();
    //Cuidado que las cadenas de texto en JS son INMUTABLES!
    //Cuando invocamos una función que cambia la cadena lo que hacen es
    //crear un nuevo string con los cambios y devolverlo, quedando la 
    //otra igual
    console.log(texto); 
    
    console.log("===================================");
    let texto2 = texto.toUpperCase();
    console.log(texto2);
    
    //Lo normal es no crear una segunda variable:
    texto = texto.toUpperCase();
    
    //Acceder a un caracter concreto
    console.log("====================================");
    console.log("CharAt:"+texto.charAt(10));
    console.log("CharAt:"+texto.charAt(100000)); //Si te pasas del tamaño TJ porque no te avisan
    
    //Split
    let trozos = texto.split(" "); //Trozos es un array con los fragmentos
    for(let a=0; a<trozos.length; a++){
        console.log(trozos[a]);
    }

    //trim: elimina espacios en blanco, tabuladores, saltos de línea y retornos de carro
    //del comienzo y final de la cadena
    let cadena = "             ¡HOLA!       "
    cadena = cadena.trim()
    console.log(":"+cadena+":")

    //substring: devuelve un fragmento de la cadena
    cadena = "siete caballos vienen de bonanza"
    cadena = cadena.substring(0,4)
    console.log(cadena) //siet

    //Expresiones regulares


    /*

    /discos/a   <- false
    /discos/    <- false

    /discos/5   <- true
    /discos/15  <- true
    /discos/314 <- true

    /discos/123456789012345678901234
    /discos/0123456789ABCDEF01234567 
    /discos/0123456789abcdef01234567 



    */

    console.log("===================================");    
    let txt = "/discos/0123456789ABCDEF01234567"

    let txt1 = "HOLA"
    console.log(txt1.match("HOLA"))
    console.log(txt1.match("hola"))

    console.log(txt.match("/discos/")) //Lo encuentra en la posición 0
    
    let txt2 = "algo/discos/otra movida"
    console.log(txt2.match("/discos/")) //Lo encuentra en la posicion 4
    
    // ^ Indica que la cadena a buscar debe estar al principio
    console.log(txt.match("^/discos/")) //Si
    console.log(txt2.match("^/discos/")) //NO

    // Un caracter busca ese caracter
    console.log(txt.match("o")) //Lo encuentra en la posición 5
    // Podemos escribir vários caracteres y buscará la primera ocurrencia
    console.log(txt.match("123")) //Lo encuentra en la posición 9

    // Con los corchetes indicamos una serie de caracteres a buscar
    let txt3 = "abcdefghijk"
    console.log(txt3.match("[fnp]"))
    // Podemos añadir rangos
    let txt4 = "abcdef6ghijk"
    console.log(txt4.match("[0-9]")) //Lo encuentra en la posición 6
    // Tambien con caracteres
    let txt5 = "01234J56789"
    console.log(txt5.match("[a-z]")) //NO
    console.log(txt5.match("[A-Z]")) //En la 5

    // Comodin para indicar cualquier número de caracteres (*)
    let txt6 = "1234567890"
    console.log(txt6.match("[0-9]*")) //Está txt6 formado únicamente por dígitos? Encuentra la cadena entera
    let txt7 = "123A67890"
    console.log(txt7.match("[0-9]*")) //Está txt7 formado únicamente por dígitos? Encuentra solo 123

    //Se pueden juntar várias cosas
    console.log(txt.match("/discos/[0-9a-fA-F]")) //Encuentra /discos/0
    
    let txt8 = "/discos/0ZZZZZZZZ"
    console.log(txt8.match("/discos/[0-9a-fA-F]")) //Encuentra /discos/0
    let txt9 = "NO/discos/0ZZZZZZZZ"
    console.log(txt9.match("/discos/[0-9a-fA-F]")) //Encuentra /discos/0

    //tiene que empezar por /discos/
    //tiene que continuar con 24 caracteres a-f,A-F,0-9
    
    console.log(txt.match("^/discos/[0-9a-fA-F]*"))
    let txt10 = "/discos/0123456789ABCDEF01234567-MOVIDAS-GORDÍSIMAS"
    console.log(txt10.match("^/discos/[0-9a-fA-F]*"))
    
    //tiene que terminar por los 24 caracteres
    console.log(txt.match("^/discos/[0-9a-fA-F]*$")) //OK
    console.log(txt10.match("^/discos/[0-9a-fA-F]*$")) //NULL
    
    //Nos faltaría indicar que han de ser 24 caracteres
    let txt11 = "/discos/0123456789ABCDEF01234567890ABCDEF"
    console.log(txt11.match("^/discos/[0-9a-fA-F]*$")) //No da null :(
        
    console.log(txt.match("^/discos/[0-9a-fA-F]{24}$")) //OK
    console.log(txt11.match("^/discos/[0-9a-fA-F]{24}$")) //Null

</script>

<body>

    <h1>04_Strings</h1>

</body>
    
</html>
    